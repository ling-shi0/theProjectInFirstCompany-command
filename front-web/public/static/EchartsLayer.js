!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],e):"object"==typeof exports?exports.EchartsLayer=e(require("echarts")):n.EchartsLayer=e(n.echarts)}(window,(function(__WEBPACK_EXTERNAL_MODULE__0__){return function(n){var e={};function c(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}return c.m=n,c.c=e,c.d=function(n,e,t){c.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,e){if(1&e&&(n=c(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)c.d(t,r,function(e){return n[e]}.bind(null,r));return t},c.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(e,"a",e),e},c.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},c.p="",c(c.s=1)}([function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcImVjaGFydHNcIj84YzY3Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){eval("__webpack_require__(2)\r\nvar EchartsLayer=__webpack_require__(6)\r\nmodule.exports=EchartsLayer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcIi4vc3JjL0hNYXAuanNcIilcclxudmFyIEVjaGFydHNMYXllcj1yZXF1aXJlKFwiLi9zcmMvRWNoYXJ0c0xheWVyLmpzXCIpXHJcbm1vZHVsZS5leHBvcnRzPUVjaGFydHNMYXllcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;/**\r\n * HMap component extension\r\n */\r\n!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {\r\n  __webpack_require__(0).registerCoordinateSystem(\r\n    'HMap', __webpack_require__(3)\r\n  )\r\n  __webpack_require__(4)\r\n  __webpack_require__(5)\r\n\r\n  // Action\r\n  __webpack_require__(0).registerAction({\r\n    type: 'HMapRoam',\r\n    event: 'HMapRoam',\r\n    update: 'updateLayout'\r\n  }, function (payload, ecModel) {\r\n\r\n  })\r\n\r\n  return {\r\n    version: '1.0.0'\r\n  }\r\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL3NyYy9ITWFwLmpzPzhhN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEhNYXAgY29tcG9uZW50IGV4dGVuc2lvblxyXG4gKi9cclxuZGVmaW5lKGZ1bmN0aW9uIChyZXF1aXJlKSB7XHJcbiAgcmVxdWlyZSgnZWNoYXJ0cycpLnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbShcclxuICAgICdITWFwJywgcmVxdWlyZSgnLi9ITWFwQ29vcmRTeXMnKVxyXG4gIClcclxuICByZXF1aXJlKCcuL0hNYXBNb2RlbCcpXHJcbiAgcmVxdWlyZSgnLi9ITWFwVmlldycpXHJcblxyXG4gIC8vIEFjdGlvblxyXG4gIHJlcXVpcmUoJ2VjaGFydHMnKS5yZWdpc3RlckFjdGlvbih7XHJcbiAgICB0eXBlOiAnSE1hcFJvYW0nLFxyXG4gICAgZXZlbnQ6ICdITWFwUm9hbScsXHJcbiAgICB1cGRhdGU6ICd1cGRhdGVMYXlvdXQnXHJcbiAgfSwgZnVuY3Rpb24gKHBheWxvYWQsIGVjTW9kZWwpIHtcclxuXHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHZlcnNpb246ICcxLjAuMCdcclxuICB9XHJcbn0pIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {\r\n  var echarts = __webpack_require__(0)\r\n\r\n  function HMapCoordSys(HMap, api) {\r\n    this._HMap = HMap\r\n    this.dimensions = ['lng', 'lat']\r\n    this._mapOffset = [0, 0]\r\n\r\n    this._api = api\r\n  }\r\n\r\n  HMapCoordSys.prototype.dimensions = ['lng', 'lat']\r\n\r\n  HMapCoordSys.prototype.setMapOffset = function (mapOffset) {\r\n    this._mapOffset = mapOffset\r\n  }\r\n\r\n  HMapCoordSys.prototype.getHMap = function () {\r\n    return this._HMap\r\n  }\r\n\r\n  HMapCoordSys.prototype.dataToPoint = function (data) {\r\n    if(!Number.isFinite(data[0]) || !Number.isFinite(data[1])){\r\n      return [0,0];\r\n    }else{\r\n      var px = this._HMap.getPixelFromCoordinate(new hmap.basetype.Coordinate(data[0], data[1]));\r\n\r\n      var mapOffset = this._mapOffset\r\n  \r\n      return [px.getX() - mapOffset[0], px.getY() - mapOffset[1]]\r\n    }\r\n  }\r\n\r\n  HMapCoordSys.prototype.pointToData = function (pt) {\r\n    var mapOffset = this._mapOffset\r\n    var pt = this._HMap.getCoordinateFromPixel(new hmap.basetype.Pixel(pt[0] + mapOffset[0], pt[1] + mapOffset[1]))\r\n    return [pt.getOrdinate(\"X\"), pt.getOrdinate(\"Y\")]\r\n  }\r\n\r\n  HMapCoordSys.prototype.getViewRect = function () {\r\n    var api = this._api\r\n    return new echarts.graphic.BoundingRect(0, 0, api.getWidth(), api.getHeight())\r\n  }\r\n\r\n  HMapCoordSys.prototype.getRoamTransform = function () {\r\n    return echarts.matrix.create()\r\n  }\r\n\r\n\r\n  // For deciding which dimensions to use when creating list data\r\n  HMapCoordSys.dimensions = HMapCoordSys.prototype.dimensions\r\n\r\n  HMapCoordSys.create = function (ecModel, api) {\r\n    var coordSys;\r\n\r\n    ecModel.eachComponent('HMap', function (HMapModel) {\r\n      //echartsLayer中扩展出来的glMap\r\n      var HMap = echarts.hMap;\r\n      coordSys = new HMapCoordSys(HMap, api)\r\n      coordSys.setMapOffset(HMapModel.__mapOffset || [0, 0])\r\n      HMapModel.coordinateSystem = coordSys\r\n    })\r\n\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      if (seriesModel.get('coordinateSystem') === 'HMap') {\r\n        seriesModel.coordinateSystem = coordSys\r\n      }\r\n    })\r\n  }\r\n\r\n  return HMapCoordSys\r\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL3NyYy9ITWFwQ29vcmRTeXMuanM/OGE0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUpIHtcclxuICB2YXIgZWNoYXJ0cyA9IHJlcXVpcmUoJ2VjaGFydHMnKVxyXG5cclxuICBmdW5jdGlvbiBITWFwQ29vcmRTeXMoSE1hcCwgYXBpKSB7XHJcbiAgICB0aGlzLl9ITWFwID0gSE1hcFxyXG4gICAgdGhpcy5kaW1lbnNpb25zID0gWydsbmcnLCAnbGF0J11cclxuICAgIHRoaXMuX21hcE9mZnNldCA9IFswLCAwXVxyXG5cclxuICAgIHRoaXMuX2FwaSA9IGFwaVxyXG4gIH1cclxuXHJcbiAgSE1hcENvb3JkU3lzLnByb3RvdHlwZS5kaW1lbnNpb25zID0gWydsbmcnLCAnbGF0J11cclxuXHJcbiAgSE1hcENvb3JkU3lzLnByb3RvdHlwZS5zZXRNYXBPZmZzZXQgPSBmdW5jdGlvbiAobWFwT2Zmc2V0KSB7XHJcbiAgICB0aGlzLl9tYXBPZmZzZXQgPSBtYXBPZmZzZXRcclxuICB9XHJcblxyXG4gIEhNYXBDb29yZFN5cy5wcm90b3R5cGUuZ2V0SE1hcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLl9ITWFwXHJcbiAgfVxyXG5cclxuICBITWFwQ29vcmRTeXMucHJvdG90eXBlLmRhdGFUb1BvaW50ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGlmKCFOdW1iZXIuaXNGaW5pdGUoZGF0YVswXSkgfHwgIU51bWJlci5pc0Zpbml0ZShkYXRhWzFdKSl7XHJcbiAgICAgIHJldHVybiBbMCwwXTtcclxuICAgIH1lbHNle1xyXG4gICAgICB2YXIgcHggPSB0aGlzLl9ITWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUobmV3IGhtYXAuYmFzZXR5cGUuQ29vcmRpbmF0ZShkYXRhWzBdLCBkYXRhWzFdKSk7XHJcblxyXG4gICAgICB2YXIgbWFwT2Zmc2V0ID0gdGhpcy5fbWFwT2Zmc2V0XHJcbiAgXHJcbiAgICAgIHJldHVybiBbcHguZ2V0WCgpIC0gbWFwT2Zmc2V0WzBdLCBweC5nZXRZKCkgLSBtYXBPZmZzZXRbMV1dXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBITWFwQ29vcmRTeXMucHJvdG90eXBlLnBvaW50VG9EYXRhID0gZnVuY3Rpb24gKHB0KSB7XHJcbiAgICB2YXIgbWFwT2Zmc2V0ID0gdGhpcy5fbWFwT2Zmc2V0XHJcbiAgICB2YXIgcHQgPSB0aGlzLl9ITWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwobmV3IGhtYXAuYmFzZXR5cGUuUGl4ZWwocHRbMF0gKyBtYXBPZmZzZXRbMF0sIHB0WzFdICsgbWFwT2Zmc2V0WzFdKSlcclxuICAgIHJldHVybiBbcHQuZ2V0T3JkaW5hdGUoXCJYXCIpLCBwdC5nZXRPcmRpbmF0ZShcIllcIildXHJcbiAgfVxyXG5cclxuICBITWFwQ29vcmRTeXMucHJvdG90eXBlLmdldFZpZXdSZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFwaSA9IHRoaXMuX2FwaVxyXG4gICAgcmV0dXJuIG5ldyBlY2hhcnRzLmdyYXBoaWMuQm91bmRpbmdSZWN0KDAsIDAsIGFwaS5nZXRXaWR0aCgpLCBhcGkuZ2V0SGVpZ2h0KCkpXHJcbiAgfVxyXG5cclxuICBITWFwQ29vcmRTeXMucHJvdG90eXBlLmdldFJvYW1UcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gZWNoYXJ0cy5tYXRyaXguY3JlYXRlKClcclxuICB9XHJcblxyXG5cclxuICAvLyBGb3IgZGVjaWRpbmcgd2hpY2ggZGltZW5zaW9ucyB0byB1c2Ugd2hlbiBjcmVhdGluZyBsaXN0IGRhdGFcclxuICBITWFwQ29vcmRTeXMuZGltZW5zaW9ucyA9IEhNYXBDb29yZFN5cy5wcm90b3R5cGUuZGltZW5zaW9uc1xyXG5cclxuICBITWFwQ29vcmRTeXMuY3JlYXRlID0gZnVuY3Rpb24gKGVjTW9kZWwsIGFwaSkge1xyXG4gICAgdmFyIGNvb3JkU3lzO1xyXG5cclxuICAgIGVjTW9kZWwuZWFjaENvbXBvbmVudCgnSE1hcCcsIGZ1bmN0aW9uIChITWFwTW9kZWwpIHtcclxuICAgICAgLy9lY2hhcnRzTGF5ZXLkuK3mianlsZXlh7rmnaXnmoRnbE1hcFxyXG4gICAgICB2YXIgSE1hcCA9IGVjaGFydHMuaE1hcDtcclxuICAgICAgY29vcmRTeXMgPSBuZXcgSE1hcENvb3JkU3lzKEhNYXAsIGFwaSlcclxuICAgICAgY29vcmRTeXMuc2V0TWFwT2Zmc2V0KEhNYXBNb2RlbC5fX21hcE9mZnNldCB8fCBbMCwgMF0pXHJcbiAgICAgIEhNYXBNb2RlbC5jb29yZGluYXRlU3lzdGVtID0gY29vcmRTeXNcclxuICAgIH0pXHJcblxyXG4gICAgZWNNb2RlbC5lYWNoU2VyaWVzKGZ1bmN0aW9uIChzZXJpZXNNb2RlbCkge1xyXG4gICAgICBpZiAoc2VyaWVzTW9kZWwuZ2V0KCdjb29yZGluYXRlU3lzdGVtJykgPT09ICdITWFwJykge1xyXG4gICAgICAgIHNlcmllc01vZGVsLmNvb3JkaW5hdGVTeXN0ZW0gPSBjb29yZFN5c1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEhNYXBDb29yZFN5c1xyXG59KSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {\r\n\r\n    return __webpack_require__(0).extendComponentModel({\r\n        type: 'HMap',\r\n\r\n        getHMap: function () {\r\n            // __hmap is injected when creating HMapCoordSys\r\n            return this.__HMap;\r\n        },\r\n\r\n        defaultOption: {\r\n            roam: false,\r\n            rotate:true\r\n        }\r\n    });\r\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL3NyYy9ITWFwTW9kZWwuanM/ODM5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoZnVuY3Rpb24gKHJlcXVpcmUpIHtcclxuXHJcbiAgICByZXR1cm4gcmVxdWlyZSgnZWNoYXJ0cycpLmV4dGVuZENvbXBvbmVudE1vZGVsKHtcclxuICAgICAgICB0eXBlOiAnSE1hcCcsXHJcblxyXG4gICAgICAgIGdldEhNYXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gX19obWFwIGlzIGluamVjdGVkIHdoZW4gY3JlYXRpbmcgSE1hcENvb3JkU3lzXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9fSE1hcDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkZWZhdWx0T3B0aW9uOiB7XHJcbiAgICAgICAgICAgIHJvYW06IGZhbHNlLFxyXG4gICAgICAgICAgICByb3RhdGU6dHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {\r\n  return __webpack_require__(0).extendComponentView({\r\n    type: 'HMap',\r\n    hasBindEvent: false,\r\n    render: function (HMapModel, ecModel, api) {\r\n      var rendering = true\r\n      var glMap = echarts.hMap\r\n      var viewportRoot = api.getZr().painter.getViewportRoot()\r\n      var coordSys = HMapModel.coordinateSystem\r\n      var moveHandler = function (type, target) {\r\n        if (rendering) {\r\n          return\r\n        }\r\n        var offsetEl = viewportRoot.parentNode.parentNode.parentNode\r\n        var offsetEl = document.getElementById('hmapCanvas');\r\n\r\n        var mapOffset = [\r\n          -parseInt(offsetEl.style.left, 10) || 0,\r\n          -parseInt(offsetEl.style.top, 10) || 0\r\n        ]\r\n        viewportRoot.style.left = mapOffset[0] + 'px'\r\n        viewportRoot.style.top = mapOffset[1] + 'px'\r\n\r\n        coordSys.setMapOffset(mapOffset)\r\n        HMapModel.__mapOffset = mapOffset\r\n\r\n        api.dispatchAction({\r\n          type: 'HMapRoam'\r\n        })\r\n      }\r\n\r\n      function zoomEndHandler(type, target) {\r\n        if (rendering) {\r\n          return\r\n        }\r\n        api.dispatchAction({\r\n          type: 'HMapRoam'\r\n        })\r\n      }\r\n\r\n      function debounce(fn, wait) {\r\n        var timeout = null;\r\n        return function () {\r\n          if (timeout !== null) clearTimeout(timeout);\r\n          timeout = setTimeout(fn, wait);\r\n        }\r\n      }\r\n\r\n      function rotateHandler(type, target) {\r\n        if (rendering) {\r\n          return\r\n        }\r\n        api.dispatchAction({\r\n          type: 'HMapRoam'\r\n        })\r\n\r\n      }\r\n      //if(!this.hasBindEvent){\r\n        //glMap.event.removeListener(EventType.MAPEVENT_MOVESTART, this._oldMoveHandler);\r\n        glMap.event.removeListener(EventType.MAPEVENT_MOVING, this._oldMoveHandler);\r\n        glMap.event.removeListener(EventType.MAPEVENT_MOVEEND, this._oldMoveHandler);\r\n        glMap.event.removeListener(EventType.MAPEVENT_ZOOMING, this._oldZoomEndHandler);\r\n        //glMap.event.addListener(EventType.MAPEVENT_MOVESTART, moveHandler);\r\n        glMap.event.addListener(EventType.MAPEVENT_MOVING, moveHandler);\r\n        glMap.event.addListener(EventType.MAPEVENT_MOVEEND, moveHandler);\r\n        glMap.event.addListener(EventType.MAPEVENT_ZOOMING, zoomEndHandler);\r\n        //添加echarts对地图旋转事件的响应\r\n        glMap.event.removeListener(EventType.MAPEVENT_ROTATING, rotateHandler);\r\n        glMap.event.addListener(EventType.MAPEVENT_ROTATING, rotateHandler);\r\n        //this.hasBindEvent = true;\r\n        this._oldMoveHandler = moveHandler\r\n        this._oldZoomEndHandler = zoomEndHandler\r\n      //}\r\n\r\n\r\n\r\n\r\n\r\n      var roam = HMapModel.get('roam')\r\n\r\n      if (roam && roam !== 'zoom') {\r\n        // todo 允许缩放\r\n        glMap.setZoomEnable(true);\r\n      } else {\r\n        // todo 不允许缩放\r\n        glMap.setZoomEnable(false);\r\n      }\r\n      if (roam && roam !== 'move') {\r\n        // todo 允许移动\r\n        glMap.setPanEnable(true);\r\n      } else {\r\n        // todo 不允许允许移动\r\n        glMap.setPanEnable(false);\r\n      }\r\n      if (roam && roam !== 'rotate') {\r\n        // todo 允许旋转\r\n        glMap.setRotateEnable(true);\r\n      } else {\r\n        // todo 不允许允许移动\r\n        glMap.setRotateEnable(false);\r\n      }\r\n      rendering = false\r\n    }\r\n  })\r\n}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL3NyYy9ITWFwVmlldy5qcz80M2IwIl0sInNvdXJjZXNDb250ZW50IjpbImRlZmluZShmdW5jdGlvbiAocmVxdWlyZSkge1xyXG4gIHJldHVybiByZXF1aXJlKCdlY2hhcnRzJykuZXh0ZW5kQ29tcG9uZW50Vmlldyh7XHJcbiAgICB0eXBlOiAnSE1hcCcsXHJcbiAgICBoYXNCaW5kRXZlbnQ6IGZhbHNlLFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoSE1hcE1vZGVsLCBlY01vZGVsLCBhcGkpIHtcclxuICAgICAgdmFyIHJlbmRlcmluZyA9IHRydWVcclxuICAgICAgdmFyIGdsTWFwID0gZWNoYXJ0cy5oTWFwXHJcbiAgICAgIHZhciB2aWV3cG9ydFJvb3QgPSBhcGkuZ2V0WnIoKS5wYWludGVyLmdldFZpZXdwb3J0Um9vdCgpXHJcbiAgICAgIHZhciBjb29yZFN5cyA9IEhNYXBNb2RlbC5jb29yZGluYXRlU3lzdGVtXHJcbiAgICAgIHZhciBtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uICh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICBpZiAocmVuZGVyaW5nKSB7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9mZnNldEVsID0gdmlld3BvcnRSb290LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlXHJcbiAgICAgICAgdmFyIG9mZnNldEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2htYXBDYW52YXMnKTtcclxuXHJcbiAgICAgICAgdmFyIG1hcE9mZnNldCA9IFtcclxuICAgICAgICAgIC1wYXJzZUludChvZmZzZXRFbC5zdHlsZS5sZWZ0LCAxMCkgfHwgMCxcclxuICAgICAgICAgIC1wYXJzZUludChvZmZzZXRFbC5zdHlsZS50b3AsIDEwKSB8fCAwXHJcbiAgICAgICAgXVxyXG4gICAgICAgIHZpZXdwb3J0Um9vdC5zdHlsZS5sZWZ0ID0gbWFwT2Zmc2V0WzBdICsgJ3B4J1xyXG4gICAgICAgIHZpZXdwb3J0Um9vdC5zdHlsZS50b3AgPSBtYXBPZmZzZXRbMV0gKyAncHgnXHJcblxyXG4gICAgICAgIGNvb3JkU3lzLnNldE1hcE9mZnNldChtYXBPZmZzZXQpXHJcbiAgICAgICAgSE1hcE1vZGVsLl9fbWFwT2Zmc2V0ID0gbWFwT2Zmc2V0XHJcblxyXG4gICAgICAgIGFwaS5kaXNwYXRjaEFjdGlvbih7XHJcbiAgICAgICAgICB0eXBlOiAnSE1hcFJvYW0nXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gem9vbUVuZEhhbmRsZXIodHlwZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHJlbmRlcmluZykge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwaS5kaXNwYXRjaEFjdGlvbih7XHJcbiAgICAgICAgICB0eXBlOiAnSE1hcFJvYW0nXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZGVib3VuY2UoZm4sIHdhaXQpIHtcclxuICAgICAgICB2YXIgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBudWxsKSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmbiwgd2FpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByb3RhdGVIYW5kbGVyKHR5cGUsIHRhcmdldCkge1xyXG4gICAgICAgIGlmIChyZW5kZXJpbmcpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkuZGlzcGF0Y2hBY3Rpb24oe1xyXG4gICAgICAgICAgdHlwZTogJ0hNYXBSb2FtJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICB9XHJcbiAgICAgIC8vaWYoIXRoaXMuaGFzQmluZEV2ZW50KXtcclxuICAgICAgICAvL2dsTWFwLmV2ZW50LnJlbW92ZUxpc3RlbmVyKEV2ZW50VHlwZS5NQVBFVkVOVF9NT1ZFU1RBUlQsIHRoaXMuX29sZE1vdmVIYW5kbGVyKTtcclxuICAgICAgICBnbE1hcC5ldmVudC5yZW1vdmVMaXN0ZW5lcihFdmVudFR5cGUuTUFQRVZFTlRfTU9WSU5HLCB0aGlzLl9vbGRNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgZ2xNYXAuZXZlbnQucmVtb3ZlTGlzdGVuZXIoRXZlbnRUeXBlLk1BUEVWRU5UX01PVkVFTkQsIHRoaXMuX29sZE1vdmVIYW5kbGVyKTtcclxuICAgICAgICBnbE1hcC5ldmVudC5yZW1vdmVMaXN0ZW5lcihFdmVudFR5cGUuTUFQRVZFTlRfWk9PTUlORywgdGhpcy5fb2xkWm9vbUVuZEhhbmRsZXIpO1xyXG4gICAgICAgIC8vZ2xNYXAuZXZlbnQuYWRkTGlzdGVuZXIoRXZlbnRUeXBlLk1BUEVWRU5UX01PVkVTVEFSVCwgbW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIGdsTWFwLmV2ZW50LmFkZExpc3RlbmVyKEV2ZW50VHlwZS5NQVBFVkVOVF9NT1ZJTkcsIG1vdmVIYW5kbGVyKTtcclxuICAgICAgICBnbE1hcC5ldmVudC5hZGRMaXN0ZW5lcihFdmVudFR5cGUuTUFQRVZFTlRfTU9WRUVORCwgbW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIGdsTWFwLmV2ZW50LmFkZExpc3RlbmVyKEV2ZW50VHlwZS5NQVBFVkVOVF9aT09NSU5HLCB6b29tRW5kSGFuZGxlcik7XHJcbiAgICAgICAgLy/mt7vliqBlY2hhcnRz5a+55Zyw5Zu+5peL6L2s5LqL5Lu255qE5ZON5bqUXHJcbiAgICAgICAgZ2xNYXAuZXZlbnQucmVtb3ZlTGlzdGVuZXIoRXZlbnRUeXBlLk1BUEVWRU5UX1JPVEFUSU5HLCByb3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBnbE1hcC5ldmVudC5hZGRMaXN0ZW5lcihFdmVudFR5cGUuTUFQRVZFTlRfUk9UQVRJTkcsIHJvdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vdGhpcy5oYXNCaW5kRXZlbnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX29sZE1vdmVIYW5kbGVyID0gbW92ZUhhbmRsZXJcclxuICAgICAgICB0aGlzLl9vbGRab29tRW5kSGFuZGxlciA9IHpvb21FbmRIYW5kbGVyXHJcbiAgICAgIC8vfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgIHZhciByb2FtID0gSE1hcE1vZGVsLmdldCgncm9hbScpXHJcblxyXG4gICAgICBpZiAocm9hbSAmJiByb2FtICE9PSAnem9vbScpIHtcclxuICAgICAgICAvLyB0b2RvIOWFgeiuuOe8qeaUvlxyXG4gICAgICAgIGdsTWFwLnNldFpvb21FbmFibGUodHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gdG9kbyDkuI3lhYHorrjnvKnmlL5cclxuICAgICAgICBnbE1hcC5zZXRab29tRW5hYmxlKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocm9hbSAmJiByb2FtICE9PSAnbW92ZScpIHtcclxuICAgICAgICAvLyB0b2RvIOWFgeiuuOenu+WKqFxyXG4gICAgICAgIGdsTWFwLnNldFBhbkVuYWJsZSh0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB0b2RvIOS4jeWFgeiuuOWFgeiuuOenu+WKqFxyXG4gICAgICAgIGdsTWFwLnNldFBhbkVuYWJsZShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJvYW0gJiYgcm9hbSAhPT0gJ3JvdGF0ZScpIHtcclxuICAgICAgICAvLyB0b2RvIOWFgeiuuOaXi+i9rFxyXG4gICAgICAgIGdsTWFwLnNldFJvdGF0ZUVuYWJsZSh0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB0b2RvIOS4jeWFgeiuuOWFgeiuuOenu+WKqFxyXG4gICAgICAgIGdsTWFwLnNldFJvdGF0ZUVuYWJsZShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmVuZGVyaW5nID0gZmFsc2VcclxuICAgIH1cclxuICB9KVxyXG59KSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n")},function(module,exports){eval("function EchartsLayer(map) {\r\n  //const mapContainer = map.getCanvasContainer();\r\n  const mapContainer = document.getElementById('hmapCanvas');\r\n  this._container = document.createElement('div');\r\n  this._container.style.width = mapContainer.style.width;\r\n  this._container.style.height = mapContainer.style.height;\r\n  this._container.setAttribute('id', 'echarts');\r\n  this._container.setAttribute('class', 'echartMap');\r\n  this._map = map;\r\n  mapContainer.parentElement.appendChild(this._container);\r\n  this.chart = echarts.init(this._container);\r\n  echarts.hMap = map;\r\n  this.resize();\r\n}\r\nEchartsLayer.prototype.remove = function() {\r\n  var _this = this;\r\n  this._map._listeners.forEach(function(element) {\r\n    if (element.name === 'moveHandler') {\r\n      _this._map.evnet.removeListener('moving', element);\r\n    }\r\n  });\r\n  this._map._listeners.forEach(function(element) {\r\n    if (element.name === 'zoomEndHandler') {\r\n      _this._map.evnet.removeListener('zooming', element);\r\n    }\r\n  });\r\n\r\n  this.chart.clear();\r\n  if(this._container.parentNode)\r\n    this._container.parentNode.removeChild(this._container);\r\n  this._map = undefined;\r\n};\r\nEchartsLayer.prototype.resize = function() {\r\n  const me = this;\r\n  window.onresize = function() {\r\n    //hmap的Map类没有实现getCanvas方法，但是默认有了一个id为hmapCanvas的canvas。\r\n    let mapCanvas = document.getElementById(\"hmapCanvas\");\r\n    me._container.style.width = mapCanvas.style.width;\r\n    me._container.style.height = mapCanvas.style.height;\r\n    me.chart.resize();\r\n  };\r\n};\r\nmodule.exports = EchartsLayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL1tuYW1lXS8uL3NyYy9FY2hhcnRzTGF5ZXIuanM/YjIxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBFY2hhcnRzTGF5ZXIobWFwKSB7XHJcbiAgLy9jb25zdCBtYXBDb250YWluZXIgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XHJcbiAgY29uc3QgbWFwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2htYXBDYW52YXMnKTtcclxuICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICB0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGggPSBtYXBDb250YWluZXIuc3R5bGUud2lkdGg7XHJcbiAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG1hcENvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XHJcbiAgdGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnZWNoYXJ0cycpO1xyXG4gIHRoaXMuX2NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2VjaGFydE1hcCcpO1xyXG4gIHRoaXMuX21hcCA9IG1hcDtcclxuICBtYXBDb250YWluZXIucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xyXG4gIHRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy5fY29udGFpbmVyKTtcclxuICBlY2hhcnRzLmhNYXAgPSBtYXA7XHJcbiAgdGhpcy5yZXNpemUoKTtcclxufVxyXG5FY2hhcnRzTGF5ZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgdGhpcy5fbWFwLl9saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5uYW1lID09PSAnbW92ZUhhbmRsZXInKSB7XHJcbiAgICAgIF90aGlzLl9tYXAuZXZuZXQucmVtb3ZlTGlzdGVuZXIoJ21vdmluZycsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHRoaXMuX21hcC5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQubmFtZSA9PT0gJ3pvb21FbmRIYW5kbGVyJykge1xyXG4gICAgICBfdGhpcy5fbWFwLmV2bmV0LnJlbW92ZUxpc3RlbmVyKCd6b29taW5nJywgZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuY2hhcnQuY2xlYXIoKTtcclxuICBpZih0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZSlcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcbiAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xyXG59O1xyXG5FY2hhcnRzTGF5ZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IG1lID0gdGhpcztcclxuICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vaG1hcOeahE1hcOexu+ayoeacieWunueOsGdldENhbnZhc+aWueazle+8jOS9huaYr+m7mOiupOacieS6huS4gOS4qmlk5Li6aG1hcENhbnZhc+eahGNhbnZhc+OAglxyXG4gICAgbGV0IG1hcENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG1hcENhbnZhc1wiKTtcclxuICAgIG1lLl9jb250YWluZXIuc3R5bGUud2lkdGggPSBtYXBDYW52YXMuc3R5bGUud2lkdGg7XHJcbiAgICBtZS5fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG1hcENhbnZhcy5zdHlsZS5oZWlnaHQ7XHJcbiAgICBtZS5jaGFydC5yZXNpemUoKTtcclxuICB9O1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IEVjaGFydHNMYXllcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")}])}));